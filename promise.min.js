/*! jstool-promise 2014-12-08 */
!function(){function a(a){a.when||(a.when=function(b){return b=b||{},new a(function(a,c){b?"function"==typeof b.then?b.then(a,c):setTimeout(function(){a()},0):setTimeout(function(){c()},0)})})}if("undefined"==typeof window){var b=require("promise-es6").Promise;a(b),"undefined"!=typeof module&&(module.exports=b)}else{if("undefined"==typeof window.Promise)throw"Promise not found";a(window.Promise),"undefined"!=typeof fn&&fn.define("Promise",function(){return b})}}();